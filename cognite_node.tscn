[gd_scene load_steps=7 format=3 uid="uid://cpwg601o5cdp5"]

[ext_resource type="Script" path="res://addons/cognite/cognite_node.gd" id="1_uxnlv"]
[ext_resource type="Script" path="res://addons/cognite/assemble.gd" id="2_0qdc8"]
[ext_resource type="Script" path="res://addons/cognite/source.gd" id="3_lqkth"]

[sub_resource type="Resource" id="Resource_k2jsa"]
script = ExtResource("3_lqkth")
triggers = Array[String](["c"])
conditions = Array[String](["aaaaaaa"])
ranges = Array[String](["asd"])
states = Array[String](["A", "B"])

[sub_resource type="Resource" id="Resource_d1kqv"]
script = ExtResource("2_0qdc8")
nodes = {
3446493218605: {
"position": Vector2(-300, -20),
"right_connections": {
2633804873936: Vector2i(0, 0),
3501337937769: Vector2i(0, 0),
5958965198922: Vector2i(0, 0),
10377261809729: Vector2i(0, 0)
},
"state": 1,
"type": 0
},
3467364074167: {
"change_state": 2,
"position": Vector2(340, 20),
"right_connections": {},
"type": 2
},
4239015346105: {
"change_state": 1,
"position": Vector2(340, -140),
"right_connections": {},
"type": 2
},
10377261809729: {
"bigger": 0.005,
"position": Vector2(-40, -60),
"range": 1,
"right_connections": {
3467364074167: Vector2i(1, 0),
4239015346105: Vector2i(0, 0)
},
"smaller": 0.007,
"type": 4
}
}
source = SubResource("Resource_k2jsa")

[sub_resource type="GDScript" id="GDScript_2obro"]
script/source = "extends Node

enum State {STATELESS, A, B}

signal state_changed(state)
signal c


@export var current_state: State
@onready var initial_state = current_state

var asd: float

var aaaaaaa: bool
var is_active := true

func _ready():
	pass


func _process(delta):

	if current_state == State.A:
		if asd > 0.005:
			change_state(State.A)


func change_state(new_state):
	if new_state == current_state:
		return
	
	if not is_active:
		current_state = State.STATELESS
	
	current_state = new_state
	state_changed.emit(current_state)



"

[node name="CogniteNode" type="Node"]
script = ExtResource("1_uxnlv")
cognite_assemble_root = SubResource("Resource_d1kqv")

[node name="ROOT2" type="Node" parent="."]
script = SubResource("GDScript_2obro")
